## API Report File for "@builder.io/qwik-city"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { Action } from '@builder.io/qwik-city';
import type { FailReturn } from '@builder.io/qwik-city';
import type { GetSyncData as GetSyncData_2 } from '@builder.io/qwik-city/middleware/request-handler';
import type { Loader } from '@builder.io/qwik-city';
import type { QwikCityPlan } from '@builder.io/qwik-city';
import type { Render } from '@builder.io/qwik/server';
import type { RenderOptions } from '@builder.io/qwik/server';
import type { RequestEvent as RequestEvent_2 } from '@builder.io/qwik-city';
import type { RequestHandler as RequestHandler_2 } from '@builder.io/qwik-city/middleware/request-handler';

// Warning: (ae-forgotten-export) The symbol "CacheControlOptions" needs to be exported by the entry point index.d.ts
//
// @alpha (undocumented)
export type CacheControl = CacheControlOptions | number | 'day' | 'week' | 'month' | 'year' | 'no-cache' | 'immutable' | 'private';

// @alpha (undocumented)
export interface Cookie {
    delete(name: string, options?: Pick<CookieOptions, 'path' | 'domain'>): void;
    get(name: string): CookieValue | null;
    getAll(): Record<string, CookieValue>;
    has(name: string): boolean;
    headers(): string[];
    set(name: string, value: string | number | Record<string, any>, options?: CookieOptions): void;
}

// @alpha
export interface CookieOptions {
    domain?: string;
    expires?: Date | string;
    httpOnly?: boolean;
    maxAge?: number | [number, 'seconds' | 'minutes' | 'hours' | 'days' | 'weeks'];
    path?: string;
    sameSite?: 'strict' | 'lax' | 'none';
    secure?: boolean;
}

// @alpha (undocumented)
export interface CookieValue {
    // (undocumented)
    json: <T = unknown>() => T;
    // (undocumented)
    number: () => number;
    // (undocumented)
    value: string;
}

// @alpha (undocumented)
export interface GetData {
    // (undocumented)
    <T>(loader: Loader<T>): Awaited<T> extends () => any ? never : Promise<T>;
    // (undocumented)
    <T>(loader: Action<T>): Promise<T | undefined>;
}

// @alpha (undocumented)
export function getErrorHtml(status: number, e: any): string;

// @alpha (undocumented)
export interface GetSyncData {
    // (undocumented)
    <T>(loader: Loader<T>): Awaited<T> extends () => any ? never : Awaited<T>;
    // (undocumented)
    <T>(action: Action<T>): Awaited<T> | undefined;
}

// @alpha (undocumented)
export const mergeHeadersCookies: (headers: Headers, cookies: Cookie) => Headers;

// @alpha (undocumented)
export interface RequestEvent<PLATFORM = unknown> extends RequestEventCommon<PLATFORM> {
    // (undocumented)
    readonly cacheControl: (cacheControl: CacheControl) => void;
    // (undocumented)
    readonly exited: boolean;
    readonly getWritableStream: () => WritableStream<Uint8Array>;
    // (undocumented)
    readonly headersSent: boolean;
    // (undocumented)
    readonly next: () => Promise<void>;
}

// @alpha (undocumented)
export interface RequestEventAction<PLATFORM = unknown> extends RequestEventCommon<PLATFORM> {
    // (undocumented)
    fail: <T extends Record<string, any>>(status: number, returnData: T) => FailReturn<T>;
}

// @alpha (undocumented)
export interface RequestEventCommon<PLATFORM = unknown> {
    readonly cookie: Cookie;
    // Warning: (ae-forgotten-export) The symbol "EnvGetter" needs to be exported by the entry point index.d.ts
    readonly env: EnvGetter;
    // Warning: (ae-forgotten-export) The symbol "ErrorResponse" needs to be exported by the entry point index.d.ts
    readonly error: (statusCode: number, message: string) => ErrorResponse;
    // (undocumented)
    readonly exit: () => AbortMessage;
    readonly headers: Headers;
    readonly html: (statusCode: number, html: string) => AbortMessage;
    readonly json: (statusCode: number, data: any) => AbortMessage;
    readonly locale: (local?: string) => string;
    readonly method: string;
    readonly params: Readonly<Record<string, string>>;
    readonly pathname: string;
    readonly platform: PLATFORM;
    readonly query: URLSearchParams;
    // Warning: (ae-forgotten-export) The symbol "RedirectCode" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "RedirectMessage" needs to be exported by the entry point index.d.ts
    readonly redirect: (statusCode: RedirectCode, url: string) => RedirectMessage;
    readonly request: Request;
    // Warning: (ae-forgotten-export) The symbol "SendMethod" needs to be exported by the entry point index.d.ts
    readonly send: SendMethod;
    readonly sharedMap: Map<string, any>;
    readonly status: (statusCode?: number) => number;
    // Warning: (ae-forgotten-export) The symbol "AbortMessage" needs to be exported by the entry point index.d.ts
    readonly text: (statusCode: number, text: string) => AbortMessage;
    readonly url: URL;
}

// @alpha (undocumented)
export interface RequestEventLoader<PLATFORM = unknown> extends RequestEventAction<PLATFORM> {
    // (undocumented)
    getData: GetData;
}

// @alpha (undocumented)
export type RequestHandler<PLATFORM = unknown> = (ev: RequestEvent<PLATFORM>) => Promise<void> | void;

// Warning: (ae-forgotten-export) The symbol "QwikCityRun" needs to be exported by the entry point index.d.ts
//
// @alpha (undocumented)
export function requestHandler<T = unknown>(serverRequestEv: ServerRequestEvent<T>, opts: ServerRenderOptions): Promise<QwikCityRun<T> | null>;

// @alpha (undocumented)
export interface ServerRenderOptions extends RenderOptions {
    // (undocumented)
    qwikCityPlan: QwikCityPlan;
    // (undocumented)
    render: Render;
}

// @alpha
export interface ServerRequestEvent<T = any> {
    // (undocumented)
    env: EnvGetter;
    // (undocumented)
    getWritableStream: ServerResponseHandler<T>;
    // (undocumented)
    locale: string | undefined;
    // (undocumented)
    mode: ServerRequestMode;
    // (undocumented)
    platform: any;
    // (undocumented)
    request: Request;
    // (undocumented)
    url: URL;
}

// @alpha (undocumented)
export type ServerRequestMode = 'dev' | 'static' | 'server';

// Warning: (ae-forgotten-export) The symbol "RequestEventInternal" needs to be exported by the entry point index.d.ts
//
// @alpha (undocumented)
export type ServerResponseHandler<T = any> = (status: number, headers: Headers, cookies: Cookie, resolve: (response: T) => void, requestEv: RequestEventInternal) => WritableStream<Uint8Array>;

// (No @packageDocumentation comment for this package)

```
